module.exports = function(req,fn){
	// this shall remain a GET request, likely
	if ( req.method.toLowerCase() == "post" ) {
		var d="";
		req.on('data',function(c){
			d+=c;
		});
		req.on('end',function(){
		    var arr	= d.split(';');
		    var data= [];
		    for ( var i in arr ) {
		    	data = data.concat(arr[i].split('&'));
			}
		    extract	= function(a){
		    	var obj	= {};

			    for ( var i in a ){
			    	var kv	= a[i].split('=');
			    	obj[kv[0]] = decodeURIComponent(kv[1]).replace(/\\r\\n/g,'').replace(/\+/g,' ').replace(/\\"/g,'"').replace(/\\\//g,'/');
			    }

			    return obj;
			}
			req.body  = extract(data);
			fn(req.body);
		});
	}
	else {
		req.body	= req.query;
		fn(req.query);
	}
};