'use strict';
let chalk, createdTestRan, printResult, spirittests;
chalk = require('chalk');
createdTestRan = false;
spirittests = require('./spirittest.class.js');
global.called = () => {
    createdTestRan = true;
};
spirittests.createTest(function() {
    describe('A spec', () => {
        it('Should do something', () => {
            global.called();
        });
    });
});

printResult = (passed) => {
    if (passed) {
        console.log(chalk.green('Passed'));
    } else {
        console.log(chalk.red('Failed'));
    }
}

// wtf?  was I high when I wrote this or something?
spirittests.execute().then((passed) => {
    console.log('Should print passed');
    printResult(true && createdTestRan);
    spirittests.createTest(function() {
        describe('Another spec', () => {
            it('Should do another thing', () => {
                expect(false).toBe(true);
            });
        });
    });
    spirittests.execute().then().catch(() => {
        console.log('Should print failed');
        printResult(false);
        process.exit();
    });
}).catch((e) => {
});